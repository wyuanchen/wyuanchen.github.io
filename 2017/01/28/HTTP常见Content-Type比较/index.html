<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>HTTP常见Content-Type比较 | wYuan&#39;s Blog</title>
	<link rel="stylesheet" href="/css/style.css" />
	
</head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/categories" class="header__link">Categories</a>
			
		</nav>
		<h1 class="header__title"><a href="/">wYuan&#39;s Blog</a></h1>
		<h2 class="header__subtitle">Enjoy the world</h2>
	</header>

	<main>
		<article>
	
		<h1>HTTP常见Content-Type比较</h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/网络协议/">网络协议</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Http/">Http</a>
			</span>
		
	</div>

	

	
		<h2 id="1-application-x-www-form-urlencoded"><a href="#1-application-x-www-form-urlencoded" class="headerlink" title="1.   application/x-www-form-urlencoded"></a>1.   application/x-www-form-urlencoded</h2><p>最常见的 <code>POST</code> 提交数据的方式了。浏览器的原生 form 表单，如果不设置 <code>enctype</code> 属性，那么最终就会以 <code>application/x-www-form-urlencoded</code>方式提交数据。<br>传递的key/val会经过URL转码，所以如果传递的参数存在中文或者特殊字符需要注意。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">//例子</div><div class="line">//b=曹,a=1</div><div class="line"></div><div class="line">POST  HTTP/1.1(CRLF)</div><div class="line">Host: www.example.com(CRLF)</div><div class="line">Content-Type: application/x-www-form-urlencoded(CRLF)</div><div class="line">Cache-Control: no-cache(CRLF)</div><div class="line">(CRLF)</div><div class="line">b=%E6%9B%B9&amp;a=1(CRLF)</div><div class="line">//这里b参数的值"曹"因为URL转码变成其他的字符串了</div><div class="line">```    </div><div class="line"></div><div class="line"><span class="comment">&lt;!-- more --&gt;</span></div><div class="line"></div><div class="line">## 2. text/xml</div></pre></td></tr></table></figure></p>
<p>//例子</p>
<p>POST <a href="http://www.example.com" target="_blank" rel="external">http://www.example.com</a> HTTP/1.1(CRLF)<br>Content-Type: text/xml(CRLF)<br>(CRLF)<br>&lt;?xml version=”1.0”?&gt;</p>
<p><resource><br>    <id>123</id><br>    <params><br>        <name><br>            <value>homeway</value><br>        </name><br>        <age><br>            <value>22</value><br>        </age><br>    </params><br></resource><br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">## <span class="number">3.</span>application/json</div></pre></td></tr></table></figure></p>
<p>//例子<br>//传递json</p>
<p>POST  HTTP/1.1(CRLF)<br>Host: www.example.com(CRLF)<br>Content-Type: application/json(CRLF)<br>Cache-Control: no-cache(CRLF)<br>Content-Length: 24(CRLF)<br>(CRLF)<br>{<br>    “a”:1,<br>    “b”:”hello”<br>}<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">## <span class="number">4.</span> multipart/form-data</div><div class="line">使用表单上传文件时，必须让 `form` 的 `enctyped` 等于这个值。</div><div class="line">并且Http协议会使用boundary来分割上传的参数</div></pre></td></tr></table></figure></p>
<p>//例子<br>//a=”曹”,file1是一个文件</p>
<p>POST  HTTP/1.1(CRLF)<br>Host: www.example.com(CRLF)<br>//注意data;和boundary之间有一个空格,并且—-WebKitFormBoundary7MA4YWxkTrZu0gW是可以自定义的<br>Content-Type: multipart/form-data; boundary=—-WebKitFormBoundary7MA4YWxkTrZu0gW(CRLF)<br>Cache-Control: no-cache(CRLF)<br>Content-Length: 728<br>(CRLF)<br>//如果有Content-Length的话，则Content-Length指下面所有的字节总数，包括boundary<br>//这里用自定义的boundary来进行分割,注意会在头部加多”–”<br>——WebKitFormBoundary7MA4YWxkTrZu0gW(CRLF)<br>Content-Disposition: form-data; name=”a”(CRLF)<br>(CRLF)<br>曹(CRLF)<br>——WebKitFormBoundary7MA4YWxkTrZu0gW(CRLF)<br>Content-Disposition: form-data; name=”file1”; filename=”1.jpg”<br>Content-Type: application/octet-stream(CRLF)<br>(CRLF)<br>//此处是参数file1 对应的文件的二进制数据<br><a href="CRLF">654dfasalk;af&amp;6…</a><br>//最后一个boundary会分别在头部和尾部加多”–”<br>——WebKitFormBoundary7MA4YWxkTrZu0gW–(CRLF)</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>//多个文件同时上传</p>
<p>POST  HTTP/1.1(CRLF)<br>Host: www.example.com(CRLF)<br>//注意data;和boundary之间有一个空格,并且—-WebKitFormBoundary7MA4YWxkTrZu0gW是可以自定义的<br>Content-Type: multipart/form-data; boundary=—————————418888951815204591197893077<br>Cache-Control: no-cache(CRLF)<br>Content-Length: 12138(CRLF)<br>(CRLF)<br>—————————–418888951815204591197893077(CRLF)<br>// 文件1的头部boundary<br>Content-Disposition: form-data; name=”userfile[]”; filename=”文件1.md”(CRLF)<br>Content-Type: text/markdown(CRLF)<br>(CRLF)<br>// 文件1内容开始<br>// …<br>// 文件1内容结束<br>—————————–418888951815204591197893077(CRLF)<br>// 文件2的头部boundary<br>Content-Disposition: form-data; name=”userfile[]”; filename=”文件2”(CRLF)<br>Content-Type: application/octet-stream(CRLF)<br>(CRLF)<br>// 文件2内容开始<br>// …<br>// 文件2内容结束<br>—————————–418888951815204591197893077(CRLF)<br>// 文件3的头部boundary<br>Content-Disposition: form-data; name=”userfile[]”; filename=”文件3”(CRLF)<br>Content-Type: application/octet-stream(CRLF)<br>(CRLF)<br>// 文件3内容开始<br>// …<br>// 文件3内容结束<br>—————————–418888951815204591197893077(CRLF)<br>// 参数username的头部boundary<br>Content-Disposition: form-data; name=”username”(CRLF)<br>(CRLF)<br>zhangsan<br>—————————–418888951815204591197893077(CRLF)<br>// 参数password的头部boundary<br>Content-Disposition: form-data; name=”password”(CRLF)<br>(CRLF)<br>zhangxx<br>—————————–418888951815204591197893077–<br>// 尾部boundary，表示结束</p>
<p>```</p>
<p><strong>注意</strong><br><strong><code>(CRLF)</code>指<code>\r\n</code></strong></p>
<p>附上其他一些博客<br><a href="https://callmeli.github.io/2016/08/22/http%E5%8D%8F%E8%AE%AE/" target="_blank" rel="external">http协议</a><br><a href="http://www.jianshu.com/p/abaf583f1183" target="_blank" rel="external">HTTP协议详解</a></p>

	

	
		<span class="different-posts"><a href="/2017/01/28/HTTP常见Content-Type比较/" onclick="window.history.go(-1); return false;">⬅️ Go back </a></span>

	

</article>

	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>© 2017 Wenyuan Chen | Powered by <a href="https://hexo.io/">Hexo</a> | Theme <a href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
