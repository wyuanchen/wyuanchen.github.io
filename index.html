<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>wYuan&#39;s Blog</title>
	<link rel="stylesheet" href="/css/style.css" />
	
</head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/categories" class="header__link">Categories</a>
			
		</nav>
		<h1 class="header__title"><a href="/">wYuan&#39;s Blog</a></h1>
		<h2 class="header__subtitle">Enjoy the world</h2>
	</header>

	<main>
		



	<article>
	
		<h1><a href="/2017/03/05/LinkedHashMapåŸç†å­¦ä¹ /"></a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-03-05</span><br />
		
		
	</div>

	

	
		<hr>
<p>title: LinkedHashMapåŸç†å­¦ä¹ <br>date: 2016-09-13 22:36:22<br>categories: Java</p>
<h2 id="tags-å®¹å™¨"><a href="#tags-å®¹å™¨" class="headerlink" title="tags: å®¹å™¨"></a>tags: å®¹å™¨</h2><ul>
<li>LinkedHashMapçš„è¿­ä»£è¾“å‡ºçš„ç»“æœä¿æŒäº†æ’å…¥é¡ºåºã€‚    </li>
<li>LinkedHashMapæ˜¯Hashè¡¨å’Œé“¾è¡¨çš„å®ç°ï¼Œå¹¶ä¸”ä¾é ç€åŒå‘é“¾è¡¨ä¿è¯äº†è¿­ä»£é¡ºåºæ˜¯æ’å…¥çš„é¡ºåºã€‚      </li>
<li><p>æ ¹æ®é“¾è¡¨ä¸­å…ƒç´ çš„é¡ºåºå¯ä»¥åˆ†ä¸ºï¼š    </p>
<ul>
<li>æŒ‰æ’å…¥é¡ºåºçš„é“¾è¡¨   </li>
<li><p>æŒ‰è®¿é—®é¡ºåº(è°ƒç”¨ get æ–¹æ³•)çš„é“¾è¡¨ã€‚   </p>
<p>é»˜è®¤æ˜¯æŒ‰æ’å…¥é¡ºåºæ’åºï¼Œå¦‚æœæŒ‡å®šæŒ‰è®¿é—®é¡ºåºæ’åºï¼Œé‚£ä¹ˆè°ƒç”¨getæ–¹æ³•åï¼Œä¼šå°†è¿™æ¬¡è®¿é—®çš„å…ƒç´ ç§»è‡³é“¾è¡¨å°¾éƒ¨ï¼Œä¸æ–­è®¿é—®å¯ä»¥å½¢æˆæŒ‰è®¿é—®é¡ºåºæ’åºçš„é“¾è¡¨ã€‚           </p>
</li>
</ul>
</li>
</ul>
<h3 id="æ„é€ "><a href="#æ„é€ " class="headerlink" title="æ„é€ "></a>æ„é€ </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">LinkedHashMap(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)   </div><div class="line">LinkedHashMap(<span class="keyword">int</span> initialCapacity)   </div><div class="line">LinkedHashMap()   </div><div class="line">LinkedHashMap(Map&lt;? extends K, ? extends V&gt; m)   </div><div class="line">LinkedHashMap(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor, <span class="keyword">boolean</span> accessOrder)</div></pre></td></tr></table></figure>
<p><code>accessOrder</code> è¿™ä¸ªå‚æ•°ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œ<strong>é»˜è®¤ä¸º <code>false</code></strong>ï¼Œä»£è¡¨æŒ‰ç…§æ’å…¥é¡ºåºè¿›è¡Œè¿­ä»£ï¼›å½“ç„¶å¯ä»¥æ˜¾å¼è®¾ç½®ä¸º<code>true</code>ï¼Œä»£è¡¨ä»¥è®¿é—®é¡ºåºè¿›è¡Œè¿­ä»£ã€‚      </p>
<h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">LinkedHashMap&lt;String, Integer&gt; lmap = <span class="keyword">new</span> LinkedHashMap&lt;String, Integer&gt;();</div><div class="line">lmap.put(<span class="string">"è¯­æ–‡"</span>, <span class="number">1</span>);</div><div class="line">lmap.put(<span class="string">"æ•°å­¦"</span>, <span class="number">2</span>);</div><div class="line">lmap.put(<span class="string">"è‹±è¯­"</span>, <span class="number">3</span>);</div><div class="line">lmap.put(<span class="string">"å†å²"</span>, <span class="number">4</span>);</div><div class="line">lmap.put(<span class="string">"æ”¿æ²»"</span>, <span class="number">5</span>);</div><div class="line">lmap.put(<span class="string">"åœ°ç†"</span>, <span class="number">6</span>);</div><div class="line">lmap.put(<span class="string">"ç”Ÿç‰©"</span>, <span class="number">7</span>);</div><div class="line">lmap.put(<span class="string">"åŒ–å­¦"</span>, <span class="number">8</span>);</div><div class="line"><span class="keyword">for</span>(Entry&lt;String, Integer&gt; entry : lmap.entrySet()) &#123;</div><div class="line">    System.out.println(entry.getKey() + <span class="string">": "</span> + entry.getValue());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿è¡Œç»“æœ    </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">è¯­æ–‡: <span class="number">1</span></div><div class="line">æ•°å­¦: <span class="number">2</span></div><div class="line">è‹±è¯­: <span class="number">3</span></div><div class="line">å†å²: <span class="number">4</span></div><div class="line">æ”¿æ²»: <span class="number">5</span></div><div class="line">åœ°ç†: <span class="number">6</span></div><div class="line">ç”Ÿç‰©: <span class="number">7</span></div><div class="line">åŒ–å­¦: <span class="number">8</span></div></pre></td></tr></table></figure>
<h4 id="LinkedHashMapçš„å†…éƒ¨ç»“æ„"><a href="#LinkedHashMapçš„å†…éƒ¨ç»“æ„" class="headerlink" title="LinkedHashMapçš„å†…éƒ¨ç»“æ„"></a>LinkedHashMapçš„å†…éƒ¨ç»“æ„</h4><p><figure class="figure"><img src="https://cloud.githubusercontent.com/assets/1736354/6981649/03eb9014-da38-11e4-9cbf-03d9c21f05f2.png" alt=""></figure>        </p>
<h3 id="ä¸‰ä¸ªé‡ç‚¹å®ç°çš„å‡½æ•°"><a href="#ä¸‰ä¸ªé‡ç‚¹å®ç°çš„å‡½æ•°" class="headerlink" title="ä¸‰ä¸ªé‡ç‚¹å®ç°çš„å‡½æ•°"></a>ä¸‰ä¸ªé‡ç‚¹å®ç°çš„å‡½æ•°</h3><p>åœ¨HashMapä¸­æåˆ°äº†ä¸‹é¢çš„å®šä¹‰ï¼š   </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Callbacks to allow LinkedHashMap post-actions</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">afterNodeAccess</span><span class="params">(Node&lt;K,V&gt; p)</span> </span>&#123; &#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">afterNodeInsertion</span><span class="params">(<span class="keyword">boolean</span> evict)</span> </span>&#123; &#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">afterNodeRemoval</span><span class="params">(Node&lt;K,V&gt; p)</span> </span>&#123; &#125;</div></pre></td></tr></table></figure>
<p>LinkedHashMapç»§æ‰¿äºHashMapï¼Œå› æ­¤ä¹Ÿé‡æ–°å®ç°äº†è¿™3ä¸ªå‡½æ•°ï¼Œé¡¾åæ€ä¹‰è¿™ä¸‰ä¸ªå‡½æ•°çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼šèŠ‚ç‚¹è®¿é—®åã€èŠ‚ç‚¹æ’å…¥åã€èŠ‚ç‚¹ç§»é™¤ååšä¸€äº›äº‹æƒ…ã€‚     </p>
<p>åœ¨LinkedHashMapä¸­ï¼Œä¸Šé¢3ä¸ªå‡½æ•°éƒ½æ˜¯ä¸ºäº†ä¿è¯åŒå‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹æ¬¡åºæˆ–è€…åŒå‘é“¾è¡¨å®¹é‡æ‰€åšçš„ä¸€äº›é¢å¤–çš„äº‹æƒ…ï¼Œ<strong>ç›®çš„å°±æ˜¯ä¿æŒåŒå‘é“¾è¡¨ä¸­èŠ‚ç‚¹çš„é¡ºåºï¼ˆhead -&gt; tailï¼‰æ˜¯ eldest åˆ° youngestã€‚</strong>       </p>
<h4 id="afterNodeAccesså‡½æ•°"><a href="#afterNodeAccesså‡½æ•°" class="headerlink" title="afterNodeAccesså‡½æ•°"></a>afterNodeAccesså‡½æ•°</h4><p>åœ¨è¿›è¡Œputä¹‹åå°±ç®—æ˜¯å¯¹èŠ‚ç‚¹çš„è®¿é—®äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±ä¼šæ›´æ–°é“¾è¡¨ï¼ŒæŠŠæœ€è¿‘è®¿é—®çš„æ”¾åˆ°æœ€åï¼Œä¿è¯é“¾è¡¨ã€‚     </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">afterNodeAccess</span><span class="params">(Node&lt;K,V&gt; e)</span> </span>&#123; <span class="comment">// move node to last</span></div><div class="line">    LinkedHashMap.Entry&lt;K,V&gt; last;</div><div class="line">    <span class="comment">// å¦‚æœå®šä¹‰äº†accessOrderï¼Œé‚£ä¹ˆå°±ä¿è¯æœ€è¿‘è®¿é—®èŠ‚ç‚¹æ”¾åˆ°æœ€å</span></div><div class="line">    <span class="keyword">if</span> (accessOrder &amp;&amp; (last = tail) != e) &#123;</div><div class="line">        LinkedHashMap.Entry&lt;K,V&gt; p =</div><div class="line">            (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;</div><div class="line">        p.after = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">if</span> (b == <span class="keyword">null</span>)</div><div class="line">            head = a;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            b.after = a;</div><div class="line">        <span class="keyword">if</span> (a != <span class="keyword">null</span>)</div><div class="line">            a.before = b;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            last = b;</div><div class="line">        <span class="keyword">if</span> (last == <span class="keyword">null</span>)</div><div class="line">            head = p;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">            p.before = last;</div><div class="line">            last.after = p;</div><div class="line">        &#125;</div><div class="line">        tail = p;</div><div class="line">        ++modCount;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="afterNodeInsertionå‡½æ•°"><a href="#afterNodeInsertionå‡½æ•°" class="headerlink" title="afterNodeInsertionå‡½æ•°"></a>afterNodeInsertionå‡½æ•°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">afterNodeInsertion</span><span class="params">(<span class="keyword">boolean</span> evict)</span> </span>&#123; <span class="comment">// possibly remove eldest</span></div><div class="line">    LinkedHashMap.Entry&lt;K,V&gt; first;</div><div class="line">    <span class="comment">// å¦‚æœå®šä¹‰äº†ç§»é™¤è§„åˆ™ï¼Œåˆ™æ‰§è¡Œç›¸åº”çš„æº¢å‡º</span></div><div class="line">    <span class="keyword">if</span> (evict &amp;&amp; (first = head) != <span class="keyword">null</span> &amp;&amp; removeEldestEntry(first)) &#123;</div><div class="line">        K key = first.key;</div><div class="line">        removeNode(hash(key), key, <span class="keyword">null</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦‚æœç”¨æˆ·å®šä¹‰äº†<code>removeEldestEntry</code>çš„è§„åˆ™ï¼Œé‚£ä¹ˆä¾¿å¯ä»¥æ‰§è¡Œç›¸åº”çš„ç§»é™¤æ“ä½œï¼Œ<strong>è€ŒåŸå§‹æ–¹æ³•é»˜è®¤ä¸éœ€è¦ç§»é™¤</strong>ï¼Œå¦‚æœè¦å®ç°ä¸€ä¸ªLRUçš„ç¼“å­˜å¯ä»¥è¿™ä¹ˆå®šä¹‰<code>removeEldestEntry</code>          </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">@Override</div><div class="line">protected boolean removeEldestEntry(Map.Entry&lt;K, V&gt; eldest) &#123;</div><div class="line">     return size() &gt; size;</div><div class="line">&#125;</div><div class="line">```    </div><div class="line"></div><div class="line">#### afterNodeRemovalå‡½æ•°     </div><div class="line"></div><div class="line">è¿™ä¸ªå‡½æ•°æ˜¯åœ¨ç§»é™¤èŠ‚ç‚¹åè°ƒç”¨çš„ï¼Œå°±æ˜¯å°†èŠ‚ç‚¹ä»åŒå‘é“¾è¡¨ä¸­åˆ é™¤ã€‚   </div><div class="line"></div><div class="line">```java   </div><div class="line">void afterNodeRemoval(Node&lt;K,V&gt; e) &#123; // unlink</div><div class="line">    // ä»é“¾è¡¨ä¸­ç§»é™¤èŠ‚ç‚¹</div><div class="line">    LinkedHashMap.Entry&lt;K,V&gt; p =</div><div class="line">        (LinkedHashMap.Entry&lt;K,V&gt;)e, b = p.before, a = p.after;</div><div class="line">    p.before = p.after = null;</div><div class="line">    if (b == null)</div><div class="line">        head = a;</div><div class="line">    else</div><div class="line">        b.after = a;</div><div class="line">    if (a == null)</div><div class="line">        tail = b;</div><div class="line">    else</div><div class="line">        a.before = b;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="putå’Œgetå‡½æ•°"><a href="#putå’Œgetå‡½æ•°" class="headerlink" title="putå’Œgetå‡½æ•°"></a>putå’Œgetå‡½æ•°</h3><p><code>put</code>å‡½æ•°åœ¨LinkedHashMapä¸­æœªé‡æ–°å®ç°ï¼Œåªæ˜¯å®ç°äº†<code>afterNodeAccess</code>å’Œ<code>afterNodeInsertion</code>ä¸¤ä¸ªå›è°ƒå‡½æ•°ã€‚getå‡½æ•°åˆ™é‡æ–°å®ç°å¹¶åŠ å…¥äº†<code>afterNodeAccess</code>æ¥ä¿è¯è®¿é—®é¡ºåºï¼Œä¸‹é¢æ˜¯getå‡½æ•°çš„å…·ä½“å®ç°ï¼š       </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</div><div class="line">    Node&lt;K,V&gt; e;</div><div class="line">    <span class="keyword">if</span> ((e = getNode(hash(key), key)) == <span class="keyword">null</span>)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">if</span> (accessOrder)</div><div class="line">        afterNodeAccess(e);</div><div class="line">    <span class="keyword">return</span> e.value;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨accessOrderæ¨¡å¼ä¸‹ï¼Œåªè¦æ‰§è¡Œgetæˆ–è€…putç­‰æ“ä½œçš„æ—¶å€™ï¼Œå°±ä¼šäº§ç”Ÿstructural modificationã€‚     </p>

	

	

</article>




	<article>
	
		<h1><a href="/2017/02/18/ScheduledThreadPoolExecutorå†…éƒ¨ä»»åŠ¡è·å–æœºåˆ¶/">ScheduledThreadPoolExecutorå†…éƒ¨ä»»åŠ¡è·å–æœºåˆ¶</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-02-18</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/Java/">Java</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/å¤šçº¿ç¨‹/">å¤šçº¿ç¨‹</a>
			</span>
		
	</div>

	

	
		<p>å»å¤§æ¦‚çœ‹äº†ScheduledThreadPoolExecutorçš„æºç ï¼Œå‘ç°å†…éƒ¨æ˜¯ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥å­˜å‚¨æäº¤çš„ä»»åŠ¡ï¼Œè€Œä½¿ç”¨çš„é˜Ÿåˆ—å®è´¨ä¸Šæ˜¯ä¸€ä¸ªæœ€å°å †ï¼Œå…·ä½“çš„æ¯”è¾ƒæ˜¯ä»»åŠ¡æ‰§è¡Œæ—¶é—´ä¸å½“å‰æ—¶é—´çš„å»¶è¿Ÿå·®ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»åŠ¡åº”è¯¥æ‰§è¡Œçš„æ—¶é—´ç‚¹è¶Šè¿‘ï¼Œå°±å¤„äºå †çš„è¶Šä¸Šç«¯ï¼Œä¹Ÿå°±æ˜¯è¶Šé è¿‘é˜Ÿåˆ—çš„å¤´éƒ¨ã€‚    </p>
		<p><a class="article__read-more-link" href="/2017/02/18/ScheduledThreadPoolExecutorå†…éƒ¨ä»»åŠ¡è·å–æœºåˆ¶/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/02/18/WebSocketæ¡æ‰‹/">WebSocketæ¡æ‰‹</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-02-18</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/ç½‘ç»œåè®®/">ç½‘ç»œåè®®</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/WebSocket/">WebSocket</a>
			</span>
		
	</div>

	

	
		<h3 id="WebSocketæ˜¯åŸºäºHTTPåè®®çš„ï¼Œå…·ä½“å»ºç«‹è¿æ¥çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š"><a href="#WebSocketæ˜¯åŸºäºHTTPåè®®çš„ï¼Œå…·ä½“å»ºç«‹è¿æ¥çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š" class="headerlink" title="WebSocketæ˜¯åŸºäºHTTPåè®®çš„ï¼Œå…·ä½“å»ºç«‹è¿æ¥çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š"></a>WebSocketæ˜¯åŸºäºHTTPåè®®çš„ï¼Œå…·ä½“å»ºç«‹è¿æ¥çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</h3><ol>
<li>TCPä¸‰æ¬¡æ¡æ‰‹å»ºç«‹ä¸€ä¸ªè¿æ¥    </li>
<li>å‘ç”ŸHTTPåè®®çš„æ¡æ‰‹è¯·æ±‚ï¼Œè¯·æ±‚æŠŠåè®®å‡çº§ä¸ºWebSocket       </li>
<li>æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¡æ‰‹è¯·æ±‚åï¼Œè¿”å›HTTPå“åº”å…è®¸åè®®å‡çº§ä¸ºWebSocket       </li>
<li>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åœ¨è¯¥è¿æ¥ä¸­ä»¥åéƒ½ç”¨WebSocketåè®®å‘ç”Ÿä¿¡æ¯å’Œæ¥å—ä¿¡æ¯      </li>
<li>å…³é—­TCPè¿æ¥    </li>
</ol>
<h3 id="WebSocketæ¡æ‰‹è¯·æ±‚"><a href="#WebSocketæ¡æ‰‹è¯·æ±‚" class="headerlink" title="WebSocketæ¡æ‰‹è¯·æ±‚"></a>WebSocketæ¡æ‰‹è¯·æ±‚</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">GET</span> <span class="string">/chat</span> HTTP/1.1</div><div class="line"><span class="attribute">Host</span>: server.example.com</div><div class="line"><span class="attribute">Upgrade</span>: websocket</div><div class="line"><span class="attribute">Connection</span>: Upgrade</div><div class="line"><span class="attribute">Sec-WebSocket-Key</span>: x3JJHMbDL1EzLkh9GBhXDw==</div><div class="line"><span class="attribute">Sec-WebSocket-Protocol</span>: chat, superchat</div><div class="line"><span class="attribute">Sec-WebSocket-Version</span>: 13</div><div class="line"><span class="attribute">Origin</span>: http://example.com</div></pre></td></tr></table></figure>
		<p><a class="article__read-more-link" href="/2017/02/18/WebSocketæ¡æ‰‹/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/01/28/Luceneæ£€ç´¢ç¬”è®°/">Luceneæ£€ç´¢ç¬”è®°</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/åå°/">åå°</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Lucene/">Lucene</a> <a class="article__tag-link" href="/tags/å…¨æ–‡æ£€ç´¢/">å…¨æ–‡æ£€ç´¢</a>
			</span>
		
	</div>

	

	
		<h2 id="æŠŠDocumentæ˜ å°„ä¸ºObjectç±»"><a href="#æŠŠDocumentæ˜ å°„ä¸ºObjectç±»" class="headerlink" title="æŠŠDocumentæ˜ å°„ä¸ºObjectç±»"></a>æŠŠDocumentæ˜ å°„ä¸ºObjectç±»</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Doc2ObjectMapper</span> </span>&#123;</div><div class="line">    <span class="comment">/**</div><div class="line">     * å°†å¤šä¸ªDocumentæ˜ å°„æˆä¸€ä¸ªå¯¹è±¡</div><div class="line">     * <span class="doctag">@param</span> documents</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</span></div><div class="line">    Object mapDocumentsToObject(<span class="keyword">List</span>&lt;Document&gt; documents);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">/**</div><div class="line">     * å°†å•ä¸ªDocumentæ˜ å°„æˆä¸€ä¸ªå¯¹è±¡</div><div class="line">     * <span class="doctag">@param</span> document</div><div class="line">     * <span class="doctag">@return</span></div><div class="line">     */</span></div><div class="line">    Object mapDocumentToObject(Document document);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
		<p><a class="article__read-more-link" href="/2017/01/28/Luceneæ£€ç´¢ç¬”è®°/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/01/28/Luceneå»ºç«‹ç´¢å¼•ç¬”è®°/">Luceneå»ºç«‹ç´¢å¼•ç¬”è®°</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/åå°/">åå°</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Lucene/">Lucene</a> <a class="article__tag-link" href="/tags/å…¨æ–‡æ£€ç´¢/">å…¨æ–‡æ£€ç´¢</a>
			</span>
		
	</div>

	

	
		<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¹‹å‰åœ¨é¡¹ç›®ä¸­éœ€è¦ç”¨åˆ°å…¨æ–‡æ£€ç´¢ï¼Œæ ¹æ®æœç´¢å…³é”®å­—æ¥è¿”å›æ»¡è¶³æ¡ä»¶çš„å•†å“ï¼ŒåŒæ—¶éœ€è¦æ»¡è¶³ä¸€å®šçš„å•†å“ç±»åˆ«å’Œå•†åŸä»£ç ï¼Œåˆšå¥½å­¦ä¸‹luceneæ¥åˆæ­¥ç®€å•å®ç°ä¸‹è¿™ä¸ªéœ€æ±‚ã€‚ </p>
		<p><a class="article__read-more-link" href="/2017/01/28/Luceneå»ºç«‹ç´¢å¼•ç¬”è®°/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/01/28/HTTPå¸¸è§Content-Typeæ¯”è¾ƒ/">HTTPå¸¸è§Content-Typeæ¯”è¾ƒ</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/ç½‘ç»œåè®®/">ç½‘ç»œåè®®</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Http/">Http</a>
			</span>
		
	</div>

	

	
		<h2 id="1-application-x-www-form-urlencoded"><a href="#1-application-x-www-form-urlencoded" class="headerlink" title="1.   application/x-www-form-urlencoded"></a>1.   application/x-www-form-urlencoded</h2><p>æœ€å¸¸è§çš„ <code>POST</code> æäº¤æ•°æ®çš„æ–¹å¼äº†ã€‚æµè§ˆå™¨çš„åŸç”Ÿ form è¡¨å•ï¼Œå¦‚æœä¸è®¾ç½® <code>enctype</code> å±æ€§ï¼Œé‚£ä¹ˆæœ€ç»ˆå°±ä¼šä»¥ <code>application/x-www-form-urlencoded</code>æ–¹å¼æäº¤æ•°æ®ã€‚<br>ä¼ é€’çš„key/valä¼šç»è¿‡URLè½¬ç ï¼Œæ‰€ä»¥å¦‚æœä¼ é€’çš„å‚æ•°å­˜åœ¨ä¸­æ–‡æˆ–è€…ç‰¹æ®Šå­—ç¬¦éœ€è¦æ³¨æ„ã€‚<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä¾‹å­</span></div><div class="line"><span class="comment">//b=æ›¹,a=1</span></div><div class="line"></div><div class="line"><span class="keyword">POST</span>  HTTP/1.1(CRLF)</div><div class="line">Host: www.example.com(CRLF)</div><div class="line">Content-<span class="keyword">Type</span>: application/x-www-<span class="keyword">form</span>-urlencoded(CRLF)</div><div class="line">Cache-Control: <span class="keyword">no</span>-cache(CRLF)</div><div class="line">(CRLF)</div><div class="line">b=%E6%9B%B9&amp;a=1(CRLF)</div><div class="line"><span class="comment">//è¿™é‡Œbå‚æ•°çš„å€¼"æ›¹"å› ä¸ºURLè½¬ç å˜æˆå…¶ä»–çš„å­—ç¬¦ä¸²äº†</span></div></pre></td></tr></table></figure></p>
		<p><a class="article__read-more-link" href="/2017/01/28/HTTPå¸¸è§Content-Typeæ¯”è¾ƒ/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/01/28/Lucene-Field-Storeçš„Field-Indexå±æ€§ç¬”è®°/">Lucene-Field.Storeçš„Field.Indexå±æ€§ç¬”è®°</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/åå°/">åå°</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Lucene/">Lucene</a> <a class="article__tag-link" href="/tags/å…¨æ–‡æ£€ç´¢/">å…¨æ–‡æ£€ç´¢</a>
			</span>
		
	</div>

	

	
		<p>Fieldæœ‰ä¸¤ä¸ªå±æ€§å¯é€‰ï¼šå­˜å‚¨å’Œç´¢å¼•ã€‚<br><strong>é€šè¿‡å­˜å‚¨å±æ€§ä½ å¯ä»¥æ§åˆ¶æ˜¯å¦å¯¹è¿™ä¸ªFieldè¿›è¡Œå­˜å‚¨ï¼›</strong><br><strong>é€šè¿‡ç´¢å¼•å±æ€§ä½ å¯ä»¥æ§åˆ¶æ˜¯å¦å¯¹è¯¥Fieldè¿›è¡Œç´¢å¼•ã€‚</strong></p>
<p>è¿™ä¸¤ä¸ªå±æ€§çš„æ­£ç¡®ç»„åˆå¾ˆé‡è¦ã€‚ </p>
<table>
<thead>
<tr>
<th style="text-align:center">Field.Index</th>
<th style="text-align:center">Field.Store</th>
<th style="text-align:center">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TOKENIZED</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">è¢«åˆ†è¯ç´¢å¼•ä¸”å­˜å‚¨</td>
</tr>
<tr>
<td style="text-align:center">TOKENIZED</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">è¢«åˆ†è¯ç´¢å¼•ä½†ä¸å­˜å‚¨</td>
</tr>
<tr>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">è¿™æ˜¯ä¸èƒ½è¢«æœç´¢çš„ï¼Œå®ƒåªæ˜¯è¢«æœç´¢å†…å®¹çš„é™„å±ç‰©ã€‚å¦‚URLç­‰</td>
</tr>
<tr>
<td style="text-align:center">UN_TOKENIZED</td>
<td style="text-align:center">YES/NO</td>
<td style="text-align:center">ä¸è¢«åˆ†è¯ï¼Œå®ƒä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«æœç´¢,æœä¸€éƒ¨åˆ†æ˜¯æœä¸å‡ºæ¥çš„</td>
</tr>
<tr>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">æ²¡æœ‰è¿™ç§ç”¨æ³•</td>
</tr>
</tbody>
</table>
		<p><a class="article__read-more-link" href="/2017/01/28/Lucene-Field-Storeçš„Field-Indexå±æ€§ç¬”è®°/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/01/28/ç®€æ˜“å¼¹å¹•/">ç®€æ˜“å¼¹å¹•</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/åå°/">åå°</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/å¤šçº¿ç¨‹/">å¤šçº¿ç¨‹</a>
			</span>
		
	</div>

	

	
		<p>å…ˆæ”¾å…¥æ•ˆæœå›¾</p>
<p>å®ç°ç¯èŠ‚</p>
<ol>
<li>å‰ç«¯å®ç°å°†æŠŠä¿¡æ¯å‘é€åˆ°åå°å’Œæ¥æ”¶åå°å‘é€è¿‡æ¥çš„ä¿¡æ¯å¹¶ä¸”å°†å…¶å‘å°„å¼¹å¹•åˆ°æµè§ˆå™¨ä¸Š</li>
<li>é€šè¿‡websocketä¸æ¯ä¸ªæœåŠ¡ç«¯è¿æ¥ï¼Œå½“æ¥æ”¶åˆ°æ¥è‡ªä»»ä½•ä¸€ä¸ªå‰ç«¯å‘æ¥çš„ä¿¡æ¯ï¼Œå°±å°†è¯¥ä¿¡æ¯ç¾¤å‘è‡³æ‰€æœ‰çš„å®¢æˆ·ç«¯(ä¹Ÿå°±æ˜¯æµè§ˆå™¨)  </li>
</ol>
		<p><a class="article__read-more-link" href="/2017/01/28/ç®€æ˜“å¼¹å¹•/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/01/28/ThreadPoolExecutorçš„PriorityBlockingQueueç±»å‹è½¬åŒ–é—®é¢˜/">ThreadPoolExecutorçš„PriorityBlockingQueueç±»å‹è½¬åŒ–é—®é¢˜</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/Java/">Java</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/å¤šçº¿ç¨‹/">å¤šçº¿ç¨‹</a>
			</span>
		
	</div>

	

	
		<p>æœ€è¿‘åœ¨ä½¿ç”¨ThreadPoolExecutorçš„æ—¶å€™ç¢°åˆ°ç‚¹é—®é¢˜,å› ä¸ºé¡¹ç›®åŸå› åœ¨ä½¿ç”¨ThreadPoolExecutorå‡†å¤‡æŠŠBlockingQueueæ›¿æ¢ä¸ºPriorityBlockingQueue,ä»è€Œå®ç°å¯¹ä¼˜å…ˆçº§ä»»åŠ¡å¤„ç†çš„çº¿ç¨‹æ± ,è´´ä¸‹ä»£ç å…ˆ<br><figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public abstract <span class="class"><span class="keyword">class</span> <span class="title">Event</span>&lt;T&gt; <span class="title">implements</span> <span class="title">Callable</span>&lt;T&gt;,<span class="title">Comparable</span>&lt;Event&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ExecutorService executorService=<span class="keyword">new</span> <span class="type">ThreadPoolExecutor</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,TimeUnit.SECONDS,<span class="keyword">new</span> <span class="type">PriorityBlockingQueue</span>());</div></pre></td></tr></table></figure>
<p>ç„¶åå½“æˆ‘è¿›è¡Œä»¥ä¸‹æ“ä½œçš„æ—¶å€™</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">executorService.submit(<span class="keyword">new</span> Event&lt;Object&gt;() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="keyword">public</span> <span class="function">Object <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">                ...</div><div class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div></pre></td></tr></table></figure>
		<p><a class="article__read-more-link" href="/2017/01/28/ThreadPoolExecutorçš„PriorityBlockingQueueç±»å‹è½¬åŒ–é—®é¢˜/">...read more</a></p>
	

	

</article>




	<article>
	
		<h1><a href="/2017/01/28/åœ¨éå†Listçš„è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ /">åœ¨éå†Listçš„è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ </a></h1>
	
	<div class="article__infos">
		<span class="article__date">2017-01-28</span><br />
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/Java/">Java</a>
			</span><br />
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Java/">Java</a>
			</span>
		
	</div>

	

	
		<h3 id="é¦–å…ˆéå†Listçš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§"><a href="#é¦–å…ˆéå†Listçš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§" class="headerlink" title="é¦–å…ˆéå†Listçš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§:"></a>é¦–å…ˆéå†Listçš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§:</h3><ul>
<li>æ™®é€šforå¾ªç¯</li>
<li>foreachå¾ªç¯</li>
<li>ä½¿ç”¨è¿­ä»£å™¨(Iterator)</li>
</ul>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</div><div class="line">     * ä½¿ç”¨foeachå¾ªç¯ </div><div class="line">     * åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä»Listä¸­åˆ é™¤å…ƒç´ ä»¥åï¼Œç»§ç»­å¾ªç¯Listæ—¶ä¼šæŠ›å‡º</div><div class="line">     * ConcurrentModificationException </div><div class="line">     */</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">listRemove</span><span class="params">()</span> </span>&#123;</div><div class="line">        List&lt;Handler&gt; handlers = <span class="keyword">this</span>.handlers();</div><div class="line">        <span class="keyword">for</span> (Handler <span class="keyword">handler</span> : handlers) &#123;</div><div class="line">            <span class="keyword">if</span> (<span class="keyword">handler</span>.getId() == <span class="number">2</span>)</div><div class="line">                handlers.remove(<span class="keyword">handler</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** </div><div class="line"> * åƒè¿™ç§foreachå¾ªç¯+breakæ“ä½œå¯¹Listè¿›è¡Œéå†åˆ é™¤ï¼Œä½†åˆ é™¤ä¹‹åé©¬ä¸Šå°±è·³å‡ºçš„ä¹Ÿ</div><div class="line"> * ä¸ä¼šå‡ºç°å¼‚å¸¸ </div><div class="line"> */</span>  </div><div class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">listRemoveBreak</span><span class="params">()</span> </span>&#123;  </div><div class="line">    List&lt;Handler&gt; handlers = <span class="keyword">this</span>.Handlers();  </div><div class="line">    <span class="keyword">for</span> (Handler <span class="keyword">handler</span> : handlers) &#123;  </div><div class="line">        <span class="keyword">if</span> (<span class="keyword">handler</span>.getId() == <span class="number">2</span>) &#123;  </div><div class="line">            handlers.remove(<span class="keyword">handler</span>);  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
		<p><a class="article__read-more-link" href="/2017/01/28/åœ¨éå†Listçš„è¿‡ç¨‹ä¸­åˆ é™¤å…ƒç´ /">...read more</a></p>
	

	

</article>





	<span class="different-posts">ğŸ“– <a href="/page/2">more posts</a> ğŸ“–</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br />welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2017 Wenyuan Chen | Powered by <a href="https://hexo.io/">Hexo</a> | Theme <a href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
